server {
    listen 80;

    # ส่ง /api ไปหา Django
    location /api {
        proxy_pass http://shop-backend:8000;
        proxy_set_header Host $host;
        proxy_set_header X-Real-IP $remote_addr;
    }

    # ส่ง /admin ไปหา Django
    location /admin {
        proxy_pass http://shop-backend:8000;
        proxy_set_header Host $host;
        proxy_set_header X-Real-IP $remote_addr;
    }

    # ส่ง /media (รูปภาพ) โดยอ่านจากไฟล์โดยตรง (นี่คือข้อดีของ Nginx)
    location /media/ {
        alias /app/media/;
    }

    # อื่นๆ ส่งไป Frontend (ถ้าคุณจะ build frontend production ก็ต้องแก้ตรงนี้)
    # แต่ตอนนี้เราใช้ Vite Dev Server ก็ปล่อยผ่านไปก่อน หรือใช้ config นี้เฉพาะ Backend
}